#summary Instructions on how to build MAO.

= Build instructions =

MAO relies on GNU Binutils (currenty v2.19) for parsing an input assembly 
file. Make sure you download and build the correct version of binutils as indicated below. 

These are the instructions for builing MAO for both i686 and x86_64,
for Linux and OSX. Note that --disable-nls might be needed when building binutils for Mac (tested on Leopard).

{{{
cd $DIR
wget http://ftp.gnu.org/gnu/binutils/binutils-2.19.tar.gz
gzip -dc binutils-2.19.tar.gz | tar xvf -
(cd binutils-2.19 && patch -p1  < ../data/binutils-2.19-mao.patch)

# For i686-linux
mkdir binutils-2.19-obj-i686-linux 
cd binutils-2.19-obj-i686-linux
../binutils-2.19/configure --target=i686-linux
make

# For x86_64
cd ..
mkdir binutils-2.19-obj-x86_64-linux
cd binutils-2.19-obj-x86_64-linux
../binutils-2.19/configure --target=x86_64-linux
make

#After completing either x86_64 or i686-linux
cd ..
cd src

# Note that the Makefile in this directory specifies
# the location of binutils. Depending on your setup, you
# may have to change the Makefile to point to the proper
# locations.
make TARGET=i686-linux
make TARGET=x86_64-linux
}}}


When building on MacOS X, the following flags might be necessary.
{{{
# When configuring binutils
./binutils-2.19/configure --target=x86_64-linux --disable-nls
# Building mao
make OS=MacOS
}}}

Python instructions
{{{
# Python
#
# Note: Python integration is currently disabled, so 
#       none of these steps is needed at this point.
#
#wget http://www.python.org/ftp/python/2.5.4/Python-2.5.4.tgz
#gzip -dc Python-2.5.4.tgz  | tar xvf -
#cd Python-2.5.4
#./configure PREFIX=$DIR/python-2.5.4 EXEC_PREFIX=$DIR/python-2.5.4
#make
#make DESTDIR=$DIR/python-2.5.4 install
#cd ..
}}}